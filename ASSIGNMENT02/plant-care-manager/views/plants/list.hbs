<section class="py-6 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">
      <h1 class="text-3xl font-bold text-green-800 mb-4 md:mb-0">Plant Directory</h1>
      <form method="GET" action="/plants" class="flex gap-2">
        <input
          type="text"
          name="search"
          placeholder="Search plants..."
          value="{{search}}"
          class="px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
        />
        <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition">
          Search
        </button>
      </form>
    </div>

    {{#if plants.length}}
      <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
        {{#each plants}}
          <div class="bg-white rounded-lg shadow hover:shadow-lg transition border border-gray-100 overflow-hidden">
            <div class="h-48 bg-gray-100 flex items-center justify-center">
              {{#if this.imageUrl}}
                <img
                  src="{{this.imageUrl}}"
                  alt="{{this.name}}"
                  class="h-full w-full object-cover"
                  onerror="this.onerror=null;this.src='https://via.placeholder.com/800x500?text=Image+not+available';"
                />
              {{else}}
                <span class="text-gray-400">No Image</span>
              {{/if}}
            </div>
            <div class="p-4">
              <h2 class="text-xl font-semibold text-green-700">{{this.name}}</h2>
              <p class="text-sm text-gray-600">{{this.species}}</p>
              <div class="mt-3 space-y-1 text-sm text-gray-500">
                <p><strong>Water:</strong> {{this.wateringFrequency}}</p>
                <p><strong>Sunlight:</strong> {{this.sunlight}}</p>
              </div>

              <div class="mt-4 flex flex-wrap items-center gap-2">
                <a href="/plants/{{this._id}}" class="inline-block text-green-600 hover:text-green-800 font-medium">
                  View Details â†’
                </a>
                {{#if ../user}}
                  <a href="/plants/{{this._id}}/edit" class="btn btn-sm btn-outline-secondary">Edit</a>
                  <a href="/plants/{{this._id}}/delete" class="btn btn-sm btn-outline-danger">Delete</a>
                {{/if}}
              </div>
            </div>
          </div>
        {{/each}}
      </div>
    {{else}}
      <p class="text-gray-500">No plants found.</p>
    {{/if}}
  </div>
</section>
